import{r as c,j as o,R as b}from"./chunks/react5f94ee5b.js";import{c as y}from"./chunks/react-dom5026c56d.js";import{u as j}from"./chunks/@uidotdev328b987b.js";import{i as w}from"./chunks/@fingerprintjs87793332.js";import{i as v,g as D,o as R,a as u,s as f,b as h}from"./chunks/@firebase3098b962.js";import"./chunks/firebase3cecaaf7.js";import{H as E}from"./chunks/react-helmet2a1dfdfa.js";import{a as N,b as H}from"./chunks/react-router1415574f.js";import{B as I}from"./chunks/react-router-domf38e453c.js";import"./chunks/object-assign7768badd.js";import"./chunks/scheduler765c72db.js";import"./chunks/tslib7d768ed5.js";import"./chunks/idb81bdbf9b.js";import"./chunks/prop-typesb39c56ba.js";import"./chunks/react-side-effect9198695d.js";import"./chunks/react-fast-compare24f6734c.js";import"./chunks/@remix-run745946b7.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();const O=()=>{const[r,n]=c.useState(null);return c.useEffect(()=>{(async()=>{const t=await(await w.load()).get();n(t.visitorId)})()},[]),r},A={apiKey:"AIzaSyDxOkHQ8lRW-sNYDmlWLkdD9QMF4-B12I0",authDomain:"board-dcb26.firebaseapp.com",projectId:"board-dcb26",storageBucket:"board-dcb26.appspot.com",messagingSenderId:"195587381352",appId:"1:195587381352:web:b6fcbbdfe0a8c2faad43dd",measurementId:"G-H8Q9HY217T"},M=v(A),d=D(M),P=r=>{const[n,s]=c.useState(null);return c.useEffect(()=>{R(u(d,"/connection/"),e=>{e.exists()?s(Object.values(e.val())):s([])})},[]),c.useEffect(()=>{if(!r)return;const e=u(d,"/connection/"+r);return f(e,{id:r,position:{x:0,y:0},value:""}),h(e).remove(),()=>{h(e).cancel()}},[r]),{data:n,updatePosition:e=>{r&&f(u(d,"/connection/"+r+"/position"),e)},updateValue:e=>{r&&f(u(d,"/connection/"+r+"/value"),e)}}},B=({label:r,value:n,position:s,onChange:i,...t})=>{var p,x;const e=c.useRef(null),a=()=>{e.current&&(e.current.style.height="auto",e.current.style.height=e.current.scrollHeight+"px")};c.useEffect(()=>{a()},[n]);const l=(((p=e.current)==null?void 0:p.clientWidth)||256)/2,m=((((x=e.current)==null?void 0:x.clientHeight)||32)+20)/2;return o.jsxs("div",{className:"flex flex-col gap-1 absolute -translate-x-1/2 -translate-y-1/2 cursor-not-allowed focus-within:z-10",style:{left:`${Math.max(l,Math.min(window.innerWidth-l,s.x))}px`,top:`${Math.max(m,Math.min(window.innerHeight-m,s.y))}px`},children:[o.jsx("label",{className:"font-medium text-xs text-white/80",children:r}),o.jsx("textarea",{ref:e,rows:1,className:"px-2 py-1 w-64 resize-none bg-neutral-600 font-medium rounded text-white cursor-none",value:n,onChange:g=>i(g.target.value),...t})]})},F=()=>{const[r]=j(),n=O(),{data:s,updatePosition:i,updateValue:t}=P(n);return b.useEffect(()=>{n&&i({x:r.x,y:r.y})},[r,n]),o.jsxs(o.Fragment,{children:[o.jsx(E,{children:o.jsx("title",{children:`Board - ${(s==null?void 0:s.length)||1}`})}),o.jsx("div",{className:"h-screen overflow-hidden relative bg-neutral-900",children:n&&(s==null?void 0:s.map((e,a)=>e.id?o.jsx(B,{label:`${e.id} ${e.id===n?"- You":""}`,value:(e==null?void 0:e.value)||"",position:e.position,onChange:l=>t(l),autoFocus:e.id===n},a):o.jsx("div",{className:"flex h-full w-full justify-center items-center bg-gray-400 rounded-md",children:o.jsx("button",{className:"w-36 py-3 rounded-md text-lg font-medium bg-slate-900 text-white transition-colors hover:bg-slate-800",onClick:()=>{window.location.reload()},children:"Yenil…ô"})})))})]})};function L(){return o.jsx(o.Fragment,{children:o.jsx(N,{children:o.jsx(H,{path:"/",element:o.jsx(F,{})})})})}y.createRoot(document.getElementById("root")).render(o.jsx(I,{children:o.jsx(L,{})}));
